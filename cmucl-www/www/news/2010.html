<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator"
          content="HTML Tidy for HTML5 for Apple macOS version 5.6.0">
    <title>
      CMUCL: news from 2010
    </title>
    <meta name="author"
          content="CMUCL webmasters">
    <link rel="author"
          href="https://gitlab.common-lisp.net/cmucl/cmucl-site/issues"
          title="CMUCL site issues tracker">
    <link rel="stylesheet"
          href="../cmucl.css"
          type="text/css"><!-- For Google analytics -->

    <script>

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18172365-1']);
    _gaq.push(['_setDomainName', 'none']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);

    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    </script>
  </head>
  <body>
    <div class="container">
      <header>
        <iframe class="header-frame"
                src="../include/header.html"></iframe>
      </header>
      <aside>
        <iframe class="navbar"
               src="../include/navbar.html"></iframe>
      </aside>
      <main>
        <div class="heading-line">
          <strong>News</strong>: 2010
        </div>
        <dl>
          <dt>
            Snapshot 2010-12
          </dt>
          <dd>
            Some of the important changes are listed below. See the <a href=
            "../downloads/snapshots/2010/11/release-20c.txt">release notes</a>
            for more details.
            <ul>
              <li>ASDF2 updated to version 2.010.
              </li>
              <li>On x86, <code>REALPART</code> and <code>IMAGPART</code> no
              longer incorrectly returns 0 instead of the correct part of a
              complex number in some situations.
              </li>
              <li>The command line parser now correctly handles the case where
              "--" is the first command option.
              </li>
              <li>
                <code>build.sh</code> was accidenally loading the site-init
                file, but it shouldn't.
              </li>
              <li>On sparc, the vops to add a float to a complex were broken,
              resulting in a complex number with the float as realpart and
              garbage for the imaginary part. This is now fixed.
              </li>
              <li>
                <code>XLIB::GET-BEST-AUTHORIZATION</code> will now return
                authorization data if the protocol is :local, if the xauth file
                contains just "localhost/unix:0". Previously, no authorization
                data was returned because <code>GET-BEST-AUTHORIZATION</code>
                was looking for the hostname.
              </li>
              <li>
                <code>FORMAT</code> signals an warning if <code>~:;</code> is
                used inside <code>~:[.</code>
              </li>
              <li>
                <code>SET-SYSTEM-EXTERNAL-FORMAT</code> was not actually
                setting the filename encoding if given.
              </li>
            </ul>
          </dd>
          <dt>
            <strong>20b patch 000</strong>
          </dt>
          <dd>
            A critical bug in <code>REALPART</code> and <code>IMAGPART</code>
            has been fixed in the 2010-11 snapshot. A <a href=
            "../downloads/release/20b/patches/cmucl-20b-patch-000.tar.gz">patch</a>
            is provided now to fix this issue in the 20b release. <a href=
            "../install.html">Installation</a> instructions are available.
          </dd>
          <dt>
            2010-11 snapshot
          </dt>
          <dd>
            Some of the important changes are listed below. See the <a href=
            "../downloads/snapshots/2010/11/release-20c.txt">release notes</a>
            for more details.
            <ul>
              <li>Update to Unicode 5.2.0.
              </li>
              <li>Support for character name completion for use with Slime.
              </li>
              <li>
                <code>COMPILE-FILE</code> accepts a
                <code>:DECODING-ERROR</code> argument that indicates how to
                handle decoding errors when reading the file.
              </li>
              <li>
                <code>RUN-PROGRAM</code> accepts <code>:EXTERNAL-FORMAT</code>
                parameter to specify the external format for streams that are
                created.
              </li>
              <li>
                <code>READ-CHAR</code> signals errors on non-character streams.
                <code>READ-BYTE</code> signals errors on character streams.
                This is a change from previous versions. However, both will
                work if the stream is a <code>binary-text-stream</code>.
              </li>
              <li>
                <code>REALPART</code> and <code>IMAGPARG</code> no longer
                returns 0 instead of the correct part of a complex number in
                some situations.
              </li>
            </ul>
          </dd>
          <dt>
            <strong>20b released</strong>
          </dt>
          <dd>
            <p>
              CMUCL 20b has been released. For information on the changes, we
              refer the reader to the <a href="release-20b.txt">20b release
              notes</a>.
            </p>
          </dd>
          <dt>
            2010-09 snapshot and 20b prerelease 2
          </dt>
          <dd>
            <p>
              CMUCL 20b prelease 2 has been released, in preparation for the
              upcoming 20b release. Therefore there will not be a 2010-09
              snapshot.
            </p>
            <ul>
              <li>It is possible to hash NaNs (IEEE Not-a-Number)
              </li>
              <li>For SSE2 builds, = no longer signals an error if one operand
              is NaN. This matches what happens for x87.
              </li>
              <li>For SSE2 builds, <code>SIGCONTEXT-FLOAT-REGISTER</code>
              returned the wrong value for single-floats. Easily noticead when
              tracing a function with single-float arguments.
              </li>
              <li>Trac issue #36: file-position broken for utf16 and utf32.
              <code>FILE-POSITION</code> returns the correct value for UTF16
              and UTF32 when there is a BOM (byte-order mark) at the beginning
              of the file.
              </li>
            </ul>
          </dd>
          <dt>
            2010-08 snapshot and 20b prerelease 1
          </dt>
          <dd>
            <p>
              CMUCL 20b prelease 1 has been released, in preparation for the
              upcoming 20b release. Therefore there will not be a 2010-08
              snapshot.
            </p>
            <ul>
              <li>
                <p>
                  Error handling has been added to external formats.
                  Previously, all external formats would silently replace bad
                  encodings with a suitable replacement character. Now, the
                  user can specify how the errors are handled by using the
                  <code>:DECODING-ERROR</code> and <code>:ENCODING-ERROR</code>
                  parameters to <code>OPEN</code>. The default is the previous
                  behavior.
                </p>
                <p>
                  For decoding-error, a character, symbol, or function can be
                  given. If a character, then that character is used as the
                  replacement character. For a symbol or function, it must be a
                  function of 3 arguments: a message string, the offending
                  octet (or nil), and the number of octets read in the
                  encoding. If the function returns, it must be the codepoint
                  of the desired replacement.
                </p>
                <p>
                  For encoding-error, a character, symbol, or function can be
                  given. If a character, then that character is used as the
                  replacement character. For a symbol or function, it must be a
                  function of 2 arguments: a message string and the offending
                  codepoint. If the function returns, it must be the codepoint
                  of the desired replacement.
                </p>
              </li>
              <li>Add <code>EXT:LIST-ALL-EXTERNAL-FORMATS</code> to list all
              known external formats and their aliases.
              </li>
              <li>ADD <code>EXT:DESCRIBE-EXTERNAL-FORMAT</code> to print a
              description of the specified exernal format. To support this, the
              macros <code>DEFINE-EXTERNAL-FORMAT</code> and
              <code>DEFINE-COMPOSING-EXTERNAL-FORMAT</code> have changed.
              </li>
              <li>The sparc port now supports the :executable feature.
              </li>
              <li>The Mac OS X port now support the :executable feature.
              </li>
              <li>A critical bug in the fast unicode stream buffering routine
              has been fixed. This bug manifests itself by causing valid
              sequences to be incorrectly decoded, resulting in a replacement
              character.
              </li>
              <li>UTF-8 correctly catches overlong sequences now. Previously,
              overlong sequences were missed.
              </li>
              <li>When UTF-8 decoder encounters an overlong sequence, a
              surrogate code point, or a too-large codepoint, the entire
              sequence is converted to the replacement character. Previously,
              all of the octets except the first were put back, and the data
              read again.
              </li>
              <li>Some GC improvements for sparc and ppc. (Changes for ppc
              untested). GC could incorrectly move the PC and other registers,
              causing a segfault.
              </li>
              <li>A bug inadvertently introduced in the 2010-04 non-unicode
              snapshot has been fixed. The bug prevented the non-unicode
              versions of CMUCL from loading the external format aliases file.
              </li>
              <li>With SSE2, the imaginary part of a (complex single-float) is
              now returned correctly.
              </li>
              <li>The method used to create executable images for Linux has
              been cleaned up and should be far more robust against different
              versions of the OS. The same is true on sparc as well as Mac OS
              X.
              </li>
            </ul>
          </dd>
          <dt>
            2010-07 snapshot
          </dt>
          <dd>
            <ul>
              <li>DELETE-FILE, ENSURE-DIRECTORIES-EXIST, FILE-AUTHOR,
              FILE-WRITE-DATE, and OPEN now merge the given pathname with
              *DEFAULT-PATHNAME-DEFAULTS* as required by CLHS sec 19.2.3.
              </li>
              <li>When printing out argument values in the debugger and also
              during TRACE, the incorrect values were returned for the SSE2
              core. This was caused by using the x87 values instead of the sse2
              values in the sigcontext. This is fixed now.
              </li>
            </ul>
          </dd>
          <dt>
            2010-06 snapshot
          </dt>
          <dd>
            <ul>
              <li>ASDF2 and MK-DEFSYS have been added as contrib modules. Use
              <code>(require :asdf)</code> or <code>(require :defsystem)</code>
              to load these.
              </li>
              <li>A new switch, <code>-help</code> has been added. This prints
              out a brief summary of the available command line switches and
              exists. You may also use <code>--help</code>.
              </li>
              <li>The GCD of positive integers sometimes returned a negative
              result. This is fixed.
              </li>
            </ul>
          </dd>
          <dt>
            2010-05 snapshot
          </dt>
          <dd>
            <ul>
              <li>Source information (file) for defstructs and deftypes is now
              provided. <code>DESCRIBE</code> will print out the name of the
              file where the defstruct/deftype was defined.
              </li>
              <li>
                <code>WITH-STANDARD-IO-SYNTAX</code> uses the standard pprint
                dispatch table now instead of the current table.
              </li>
              <li>
                <code>PRINC-TO-STRING</code> binds
                <code>*PRINT-READABLY*</code> to <code>NIL</code> as required.
                Previously, it used the current value of
                <code>*PRINT-READABLY*</code>.
              </li>
              <li>
                <code>DEFCLASS</code> signals an error if the class name
                already names a <code>DECLARATION</code>.
              </li>
              <li>The <code>:METHOD-CLASS</code> argument to
              <code>ENSURE-GENERIC-FUNCTION</code> can be a class object as
              well as a name.
              </li>
              <li>Recognize but ignore the <code>:DECLARE</code> argument to
              <code>ENSURE-GENERIC-FUNCTION</code>.
              </li>
              <li>Default documentation for short form of
              <code>DEFINE-METHOD-COMBINATION</code> is <code>NIL</code>, not
              "".
              </li>
              <li>
                <code>MAC</code> is an alias for the <code>CR</code> composing
                external format.
              </li>
              <li>
                <a href="http://trac.common-lisp.net/cmucl/ticket/39">Trac #39:
                non-standard-lexical syntax</a> is fixed. The reader macros are
                no longer installed by default. Use <code>(intl:install)</code>
                to install them.
              </li>
            </ul>
          </dd>
          <dt>
            2010-04 snapshot
          </dt>
          <dd>
            <ul>
              <li>Support for internalization/localization added. Messages from
              CMUCL can be translated, but currently only a few messages in
              Korean are translated. For fun, there is a full Pig Latin
              translation (done by machine).
              </li>
              <li>
                <code>COMPILE</code> will update the macro-function if the
                specified names a macro. (Previously, the fdefinition of the
                name was set.)
              </li>
              <li>CMUCL now signals a cerror when attempting to redefine a slot
              accessor via <code>DEFUN</code> or <code>COMPILE</code>. If
              continued, the accessor is redefined, and CMUCL assumes the new
              definition is usable as a slot accessor. Previously, CMUCL would
              print a warning and undefine the structure.
              </li>
              <li>An issue with SSE2 and GC hooks has been fixed. This shows up
              when doing arithmetic with GC hooks that use the SSE registers.
              The SSE state is saved along with the x87 state.
              </li>
            </ul>
          </dd>
          <dt>
            2010-03 snapshot
          </dt>
          <dd>
            <ul>
              <li>
                <code>FROUND</code> is much faster for single and double float
                numbers. This is available everywhere, except for x87 (due to
                potential roundoff errors.)
              </li>
              <li>CMUCL no longer segfaults on Linux when running on a kernel
              without COMPAT_BRK. CMUCL will set the personality appropriately
              and re-exec itself.
              </li>
              <li>
                <code>GET-MACRO-CHARACTER</code> would return the wrong second
                value because <code>*READTABLE*</code> was always being used
                instead of the specified readtable.
              </li>
              <li>
                <code>COMPILE-FILE</code> was generating an error when
                compiling <code>COMPILE</code> forms. This is fixed.
              </li>
              <li>A critical bug in SSE2 support has been fixed. Multiplying a
              complex single-float by a single-float produced the wrong result.
              </li>
              <li>Fix issue where CMUCL does not correctly handle
              <code>FLET</code>s in <code>DEFMETHOD</code> bodies which use the
              same name as that of the generic function. The generic function
              was called instead of the local function.
              </li>
              <li>CMUCL would fail to compile external formats if
              <code>*READTABLE*</code> was not the standard readtable. This is
              fixed by binding <code>*READTABLE*</code> to the standard
              readtable before compiling the external format.
              </li>
              <li>The debugger help messages is updated to reflect the actual
              implementation. In particular <code>L</code> and <code>PP</code>
              have been updated, and help for the <code>DESCRIBE</code> command
              has been added
              </li>
            </ul>
          </dd>
          <dt>
            2010-02
          </dt>
          <dd>
            <ul>
              <li>Some issues with <code>FILE-POSITION</code> on unicode builds
              have been fixed. However, <code>FILE-POSITION</code> is still
              incorrect for files using external formats that have a byte-order
              mark.
              </li>
              <li>The error-output and trace-file files are now opened using
              the same external format as specified in
              <code>COMPILE-FILE</code>. This ensures that these output files
              can correctly represent the same characters as used for the input
              file.
              </li>
              <li>The debugger now opens files using the same external format
              as used to compile them. Previously, the default format was used,
              which would be wrong if the file is in a different format. This
              resulted in the debugger being unable to find the source forms.
              </li>
              <li>
                <code>TRANSLATE-PATHNAMES</code> now creates the resulting path
                to be an absolute or relative path according to whether the TO
                pathname is abslute or relative. Previously, the result was
                take from the SOURCE pathname, except if TO were absolute, in
                which case the result was absolute.
              </li>
            </ul>
          </dd>
          <dt>
            2010-01-04
          </dt>
          <dd>
            <p>
              Experimental support for static arrays has been added. These are
              allocated in foreign (malloc) space and are never moved by GC.
              They are, however, properly garbage collected. To create an
              array, use <code>MAKE-ARRAY</code> with <code>:ALLOCATION</code>
              <code>:MALLOC</code>. Only arrays of character; 8, 16, and 32-bit
              integers (signed or unsigned); single and double floats; and
              complex single and double floats are supported.
            </p>
          </dd>
        </dl>
        <p>
          Also see older news:
        </p>
        <ul>
          <li>
            <a href="2009.html">news items from 2009</a>
          </li>
          <li>
            <a href="2008.html">news items from 2008</a>
          </li>
          <li>
            <a href="2007.html">news items from 2007</a>
          </li>
          <li>
            <a href="2006.html">news items from 2006</a>
          </li>
          <li>
            <a href="2005.html">news items from 2005</a>
          </li>
          <li>
            <a href="2004.html">news items from 2004</a>
          </li>
          <li>
            <a href="2003.html">news items from 2003</a>
          </li>
          <li>
            <a href="2002.html">news items from 2002</a>
          </li>
          <li>
            <a href="2001.html">news items from 2001</a>
          </li>
        </ul>
      </main>
      <footer>
        <iframe class="footer-frame"
                src="../include/footer.html"></iframe> <!-- hhmts start -->
         Last modified: Sun Dec 1 17:10:03 PST 2019 <!-- hhmts end -->
      </footer>
    </div>
  </body>
</html>
