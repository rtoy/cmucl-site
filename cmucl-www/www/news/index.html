@@DTD@@
<html>
<head>
<title>CMUCL News</title>
@@METAS@@
</head>

<body bgColor="#FFFFFF" text="#000000">

@@HEADING()

<p>
<dl>
<dt>2010-07 snapshot</dt>
<dd><p>
 <ul>
  <li> DELETE-FILE, ENSURE-DIRECTORIES-EXIST, FILE-AUTHOR,
  FILE-WRITE-DATE, and OPEN now merge the given pathname with
  *DEFAULT-PATHNAME-DEFAULTS* as required by CLHS sec 19.2.3. 
  </li>
  <li> When printing out argument values in the debugger and also
  during TRACE, the incorrect values were returned for the SSE2 core.
  This was caused by using the x87 values instead of the sse2 values
  in the sigcontext.  This is fixed now. </li>
 </ul>
</dd>

<dt>2010-06 snapshot</dt>
<dd><p>
 <ul>
  <li> ASDF2 and MK-DEFSYS have been added as contrib modules.  Use
  <code>(require :asdf)</code> or <code>(require :defsystem)</code> to
  load these.
  </li>
  <li> A new switch, <code>-help</code> has been added.  This prints
  out a brief summary of the available command line switches and
  exists.  You may also use <code>--help</code>.
  <li> The GCD of positive integers sometimes returned a negative
  result.  This is fixed.
  </li>
 </ul>
</dd>

<dt>2010-05 snapshot</dt>
<dd><p>
 <ul>
  <li> Source information (file) for defstructs and deftypes is now
  provided.  <tt>DESCRIBE</tt> will print out the name of the file
  where the defstruct/deftype was defined. 
  </li> 
  <li> <tt>WITH-STANDARD-IO-SYNTAX</tt> uses the standard pprint dispatch table
    now instead of the current table.
  </li>
  <li> <tt>PRINC-TO-STRING</tt> binds <tt>*PRINT-READABLY*</tt> to <tt>NIL</tt> as required.
    Previously, it used the current value of
    <tt>*PRINT-READABLY*</tt>.
  </li>
  <li> <tt>DEFCLASS</tt> signals an error if the class name already names a
    <tt>DECLARATION</tt>. 
  </li>
  <li> The <tt>:METHOD-CLASS</tt> argument to <tt>ENSURE-GENERIC-FUNCTION</tt> can be a
    class object as well as a name.
  </li>
  <li> Recognize but ignore the <tt>:DECLARE</tt> argument to
    <tt>ENSURE-GENERIC-FUNCTION</tt>. 
  </li>
  <li> Default documentation for short form of
  <tt>DEFINE-METHOD-COMBINATION</tt> is <tt>NIL</tt>, not "". 
  </li>
  <li> <tt>MAC</tt> is an alias for the <tt>CR</tt> composing external
  format.
  </li>
  <li> <a href="http://trac.common-lisp.net/cmucl/ticket/39">Trac #39: non-standard-lexical syntax</a> is fixed.
  The reader macros are no longer installed by default.  Use
  <tt>(intl:install)</tt> to install them.

 </ul>
</dd>

<dt>2010-04 snapshot</dt>
<dd><p>
 <ul>
  <li> Support for internalization/localization added.  Messages from
      CMUCL can be translated, but currently only a few messages in
      Korean are translated.  For fun, there is a full Pig Latin
      translation (done by machine).  </li>
  <li> <tt>COMPILE</tt> will update the macro-function if the specified names a
      macro.  (Previously, the fdefinition of the name was set.)</li>
  <li> CMUCL now signals a cerror when attempting to redefine a slot
      accessor via <tt>DEFUN</tt> or <tt>COMPILE</tt>.  If continued, the accessor is
      redefined, and CMUCL assumes the new definition is usable as a
      slot accessor.  Previously, CMUCL would print a warning and
      undefine the structure.</li>
  <li> An issue with SSE2 and GC hooks has been fixed.  This shows up
      when doing arithmetic with GC hooks that use the SSE registers.
      The SSE state is saved along with the x87 state.</li>
 </ul>
</dd>

<dt>2010-03 snapshot</dt>
<dd><p>
  <ul>
   <li> <tt>FROUND</tt> is much faster for single and double float numbers.
   This is available everywhere, except for x87 (due to potential
   roundoff errors.) </li>
   <li> CMUCL no longer segfaults on Linux when running on a kernel
      without COMPAT_BRK.  CMUCL will set the personality
      appropriately and re-exec itself.</li>
   <li> <tt>GET-MACRO-CHARACTER</tt> would return the wrong second value because
      <tt>*READTABLE*</tt> was always being used instead of the specified
      readtable. </li>
   <li> <tt>COMPILE-FILE</tt> was generating an error when compiling <tt>COMPILE</tt>
      forms.  This is fixed.</li>
   <li> A critical bug in SSE2 support has been fixed.  Multiplying a
      complex single-float by a single-float produced the wrong
      result. </li>
   <li> Fix issue where CMUCL does not correctly handle <tt>FLET</tt>s in
      <tt>DEFMETHOD</tt> bodies which use the same name as that of the generic
      function.   The generic function was called instead of the local
      function.</li>
   <li> CMUCL would fail to compile external formats if <tt>*READTABLE*</tt> was
      not the standard readtable.  This is fixed by binding
      <tt>*READTABLE*</tt> to the standard readtable before compiling the
      external format.</li>
   <li> The debugger help messages is updated to reflect the actual
      implementation.  In particular <tt>L</tt> and <tt>PP</tt> have been updated, and help
      for the <tt>DESCRIBE</tt> command has been added</li>
  </ul>
</dd>

<dt>2010-02</dt>
<dd><p>
  <ul>
   <li>Some issues with <tt>FILE-POSITION</tt> on unicode builds have been
   fixed.  However, <tt>FILE-POSITION</tt> is still incorrect for files using
   external formats that have a byte-order mark.</li>
   <li>The error-output and trace-file files are now opened using the
   same external format as specified in <tt>COMPILE-FILE</tt>.  This ensures
   that these output files can correctly represent the same characters
   as used for the input file.</li>
   <li>The debugger now opens files using the same external format as
   used to compile them.  Previously, the default format was used,
   which would be wrong if the file is in a different format.  This
   resulted in the debugger being unable to find the source
   forms. </li>
   <li><tt>TRANSLATE-PATHNAMES</tt> now creates the resulting path to be an
   absolute or relative path according to whether the TO  pathname
   is abslute or relative.  Previously, the result was take from
   the SOURCE pathname, except if TO were absolute, in which case
   the result was absolute.</li>
  </ul>
</dd>
<dt>2010-01-04</dt>
<dd><p>Experimental support for static arrays has been added.  These
are allocated in foreign (malloc) space and are never moved by GC.
They are, however, properly garbage collected.  To create an array,
use <tt>MAKE-ARRAY</tt> with <tt>:ALLOCATION</tt> <tt>:MALLOC</tt>.  Only arrays of character; 8,
16, and 32-bit integers (signed or unsigned); single and double
floats; and complex single and double floats are supported.
</dd>
</dl>

<p> Also see older news:

<ul>
<li> <a href = "2009.html">news items from 2009</a>
<li> <a href = "2008.html">news items from 2008</a>
<li> <a href = "2007.html">news items from 2007</a>
<li> <a href = "2006.html">news items from 2006</a>
<li> <a href = "2005.html">news items from 2005</a>
<li> <a href = "2004.html">news items from 2004</a>
<li> <a href = "2003.html">news items from 2003</a>
<li> <a href = "2002.html">news items from 2002</a>
<li> <a href = "2001.html">news items from 2001</a>
</ul>

@@FOOTER@@
</body>
</html> 
